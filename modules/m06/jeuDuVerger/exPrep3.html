<!DOCTYPE html>
<html lang="fr">
	<head>
		<meta charset="utf-8" />
		<title>Jeu du verger</title>
		<script>
			"use strict";
			
			function lancerDe(){
				return Math.floor(Math.random()*6);// Attention !!! entre 0-5 (pour le tableau de fruit)
			
			}
			
			function panier(t){
				var i = 0;
				var j = 0;
				
				
				for(j = 0; j < t.length; j++){
					if(t[j] < t[i]){
						i = j;
						
					}
				}
				if(t[i] < 10)
					return i;
			}
			
			function jeu(){
				
				var tNbFruits = [0,0,0,0]; //Ordre : Pruneau, pomme  poire, cerise
				var corbeau = 0;
				var de;
				
				do{
					
					de = lancerDe();
					
					if(de < 4){
						if(tNbFruits[de] < 10){ 
							tNbFruits[de]++; // Le dé est lancer pour correspondre aux indice du tableau
						}
						
					}else if(de == 4){
						
						tNbFruits[panier(tNbFruits)]++;
						tNbFruits[panier(tNbFruits)]++;//Lance une fonction pour le cas du panier qui retourne le fruit (l'indice) choisi
		
					}else{
						corbeau++;
					}
					
					if(tNbFruits[0] == 10 && tNbFruits[1] == 10 && tNbFruits[2] == 10 && tNbFruits[3] == 10){
					
						/*alert('Les joueurs ont gagnés. Le corbeau avait ' + corbeau + ' pièces à son puzzle');*/
						
						return false;
						
					}
					if(corbeau == 9){
					
						/*alert('Le corbeau a gagné. Les joueurs avaient ' + tNbFruits[0] +' pruneaux, ' 
							+ tNbFruits[1] + ' pommes, ' + tNbFruits[2] + ' poires et ' + tNbFruits[3] + ' cerises.');*/
						
						return true;
					}
					
				}while(true)
				
				
			}
			
			function proba(){
			
				var i;
				var corbeau = 0;
				var joueurs = 0;
				for(i = 0; i < 10000; i++){
				
					jeu()? corbeau++:joueurs++;
					
				}
			
				alert('Le corbeau à gagné ' + corbeau + ' fois et les joueurs ont gagnés ' + joueurs + ' fois.');
			
			}
			
			proba();
	
		</script>
	</head>
	<body>
	</body>
</html>
